<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>å•é¡¹æ•°æ®æµ</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type="text/css">
        [v-cloak] {
            display: none
        }
    </style>
</head>
<body>
    <div id="container" v-cloak>
        <h3>æˆ‘çš„å…¬å¸æ˜¯ï¼š{{company}}</h3>
        <my-hello></my-hello>
    </div>
    <!-- çˆ¶ç»„ä»¶æ¨¡æ¿ -->
    <template id="hello">
        <div>
            <h1>æˆ‘çš„ä¹¦ç±:{{book.name}}</h1>
            <!-- step1ï¼šå°†æ•°æ®å¯¹è±¡ç»‘å®šç»™å­ç»„ä»¶ -->
            <my-world v-bind:book="book"></my-world>
        </div>
    </template>
    <!-- å­ç»„ä»¶æ¨¡æ¿ -->
    <template id="world">
        <div>
            <h1>{{book.name}}</h1>
            <button @click="changeMember">æ”¹å˜æ•°æ®</button>
        </div>
    </template>
    <script type="text/javascript" src="../src/vue.js"></script>
    <script type="text/javascript">
        let app = new Vue({ // çˆ·çˆ·ç»„ä»¶ ï¼ˆæ ¹ç»„ä»¶ï¼‰
            el:'#container',
            data:{
                company:'æ€å®‰æ–°èƒ½æºè‚¡ä»½æœ‰é™å…¬å¸'
            },
            components: {
                'my-hello':{ // çˆ¶ç»„ä»¶
                    template:'#hello',
                    data () {
                        return {
                            // çˆ¶ç»„ä»¶ä¸­çš„å¯¹è±¡æ•°æ®
                            book:{
                                name:'æ„¿ä½ è¿·è·¯åˆ°æˆ‘èº«æ—',
                                author:'è•Šå¸Œ',
                                price:'ğŸ’´20'
                            }
                        };
                    },
                    components: {
                        'my-world':{ // å­ç»„ä»¶
                            template:'#world',
                            // step2ï¼šé€šè¿‡propsè·å–çˆ¶çˆ¶ç»„ä»¶ä¸Šçš„æ•°æ®
                            props: ['book'],// æ‹¿åˆ°äº†çˆ¶ç»„ä»¶ä¸Šæ•°æ®bookï¼Œ
                            methods: {
                                // step3:è¯¥æ”¹å˜propsæ•°æ®çš„å±æ€§
                                changeMember:function(){
                                    this.book.name = 'æ€»è¦ä¹ æƒ¯ä¸€ä¸ªäºº';
                                }
                            }
                        }
                    }
                }
            }
        });
    </script>
</body>
</html>
